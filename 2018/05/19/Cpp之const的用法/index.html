<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Cpp之const的用法 | x1aolin</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="关于const的有关知识今天先讲这些，等日后再进行补充……Tips:最后有视频推荐链接，不喜欢读文章可以看看视频。  控制变化的const 1.const与基本的数据类型如:1const int x = 3 //常量    变量名 储存地址 存储内容     x &amp;amp;x 3  固定不变">
<meta name="keywords" content="C++">
<meta property="og:type" content="article">
<meta property="og:title" content="Cpp之const的用法">
<meta property="og:url" content="http://x1aolin6.top/2018/05/19/Cpp之const的用法/index.html">
<meta property="og:site_name" content="x1aolin">
<meta property="og:description" content="关于const的有关知识今天先讲这些，等日后再进行补充……Tips:最后有视频推荐链接，不喜欢读文章可以看看视频。  控制变化的const 1.const与基本的数据类型如:1const int x = 3 //常量    变量名 储存地址 存储内容     x &amp;amp;x 3  固定不变">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2018-05-21T02:25:22.229Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Cpp之const的用法">
<meta name="twitter:description" content="关于const的有关知识今天先讲这些，等日后再进行补充……Tips:最后有视频推荐链接，不喜欢读文章可以看看视频。  控制变化的const 1.const与基本的数据类型如:1const int x = 3 //常量    变量名 储存地址 存储内容     x &amp;amp;x 3  固定不变">
  
    <link rel="alternate" href="/atom.xml" title="x1aolin" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">x1aolin</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">天生张狂，绝不甘心轻易投降</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://x1aolin6.top"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Cpp之const的用法" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/05/19/Cpp之const的用法/" class="article-date">
  <time datetime="2018-05-19T01:01:18.000Z" itemprop="datePublished">2018-05-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Cpp/">Cpp</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Cpp之const的用法
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>关于const的有关知识今天先讲这些，等日后再进行补充……<br>Tips:<em>最后有视频推荐链接</em>，不喜欢读文章可以看看视频。</p>
</blockquote>
<h3 id="控制变化的const"><a href="#控制变化的const" class="headerlink" title="控制变化的const"></a>控制变化的const</h3><hr>
<h4 id="1-const与基本的数据类型"><a href="#1-const与基本的数据类型" class="headerlink" title="1.const与基本的数据类型"></a>1.const与基本的数据类型</h4><p>如:<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> x = <span class="number">3</span> <span class="comment">//常量</span></span><br></pre></td></tr></table></figure></p>
<table>
<thead>
<tr>
<th style="text-align:center">变量名</th>
<th style="text-align:center">储存地址</th>
<th style="text-align:center">存储内容</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">x</td>
<td style="text-align:center">&amp;x</td>
<td style="text-align:center"><code>3</code>  固定不变</td>
</tr>
</tbody>
</table>
<a id="more"></a>
<h4 id="2-const与指针类型"><a href="#2-const与指针类型" class="headerlink" title="2.const与指针类型"></a>2.const与指针类型</h4><p>五种定义形式:<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> *p = <span class="literal">NULL</span>;    <span class="comment">//1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> <span class="keyword">const</span> *p = <span class="literal">NULL</span>;    <span class="comment">//2  1和2完全等价</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> *<span class="keyword">const</span> p = <span class="literal">NULL</span>;    <span class="comment">//3  另外一种情况</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> * <span class="keyword">const</span> p = <span class="literal">NULL</span>;  <span class="comment">//4 </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> <span class="keyword">const</span> * <span class="keyword">const</span> p = <span class="literal">NULL</span>;  <span class="comment">//5  4和5完全等价</span></span><br></pre></td></tr></table></figure></p>
<p>下面我们通过例子来说明问题：<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> *p = &amp;x;    <span class="comment">/*</span></span><br><span class="line"><span class="comment">p = &amp;y; 正确,即允许让指针p再指向另外的一个地址。</span></span><br><span class="line"><span class="comment">*p = 4; 错误，因为我们的const此时修饰的是*p    */</span></span><br></pre></td></tr></table></figure></p>
<table>
<thead>
<tr>
<th style="text-align:center">变量名</th>
<th style="text-align:center">存储地址</th>
<th style="text-align:center">存储内容</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">x</td>
<td style="text-align:center">&amp;x</td>
<td style="text-align:center">3</td>
</tr>
<tr>
<td style="text-align:center">p</td>
<td style="text-align:center">&amp;p</td>
<td style="text-align:center">&amp;x</td>
</tr>
</tbody>
</table>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">int</span> *<span class="keyword">const</span> p = &amp;x;    <span class="comment">//p = &amp;y; 错误，因为我们的const此时修饰的是指针p</span></span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center">变量名</th>
<th style="text-align:center">存储地址</th>
<th style="text-align:center">存储内容</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">x</td>
<td style="text-align:center">&amp;x</td>
<td style="text-align:center">3</td>
</tr>
<tr>
<td style="text-align:center">p</td>
<td style="text-align:center">&amp;p</td>
<td style="text-align:center"><code>&amp;x</code>  固定不变</td>
</tr>
</tbody>
</table>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> x = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> *<span class="keyword">const</span> p = &amp;x;    <span class="comment">//p = &amp;y; *p = 4;都是错误的</span></span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center">变量名</th>
<th style="text-align:center">存储地址</th>
<th style="text-align:center">存储内容</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">x</td>
<td style="text-align:center">&amp;x</td>
<td style="text-align:center"><code>3</code>   固定不变</td>
</tr>
<tr>
<td style="text-align:center">p</td>
<td style="text-align:center">&amp;p</td>
<td style="text-align:center"><code>&amp;x</code>  固定不变</td>
</tr>
</tbody>
</table>
<h4 id="3-const与引用"><a href="#3-const与引用" class="headerlink" title="3.const与引用"></a>3.const与引用</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> &amp;y = x;    <span class="comment">//x = 10;True //y = 20;False,因为y被const修饰。</span></span><br><span class="line"><span class="comment">//y是x的别名，他们的值始终相同。所以修改x的值后y的值也被其改变。</span></span><br></pre></td></tr></table></figure>
<h4 id="4-总结一下"><a href="#4-总结一下" class="headerlink" title="4.总结一下"></a>4.总结一下</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> x = <span class="number">3</span>;  x = <span class="number">5</span>; <span class="comment">//False 常量不可以被赋值</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> x = <span class="number">3</span>;  <span class="keyword">const</span> <span class="keyword">int</span> y = x; y = <span class="number">5</span>; <span class="comment">//False y为常量，不可被赋值</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> x = <span class="number">3</span>;  <span class="keyword">const</span> <span class="keyword">int</span> *y = &amp;x; *y = <span class="number">5</span>; <span class="comment">//False const修饰的是*y.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> x = <span class="number">3</span>, z = <span class="number">4</span>; <span class="keyword">int</span> *<span class="keyword">const</span> y = &amp;x; y = &amp;z; <span class="comment">//False const修饰的是指针y.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> x = <span class="number">3</span>; <span class="keyword">const</span> <span class="keyword">int</span> &amp;y = x; y = <span class="number">5</span>; <span class="comment">//False 前面有提到</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//!!! 下面看一个对比的例子</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> x = <span class="number">3</span>; <span class="keyword">int</span> *y = &amp;x;  <span class="comment">//False x比y的权限小，x有被其指针改变的风险</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> x = <span class="number">3</span>; <span class="keyword">int</span> <span class="keyword">const</span> *y = &amp;x;  <span class="comment">//True x比y的权限大，可以通过</span></span><br><span class="line"></span><br><span class="line">!!! 指针指向<span class="keyword">const</span>修饰的变量时，应该是 <span class="keyword">const</span> <span class="keyword">int</span> *<span class="keyword">const</span> p = &amp;x;<span class="comment">//限制其权限</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>推荐大家用const来定义常量，因为相比于宏定义#define来说，使用const编译器会检查语法错误。  </p>
</blockquote>
<h3 id="定义拷贝-构造函数"><a href="#定义拷贝-构造函数" class="headerlink" title="定义拷贝 构造函数"></a>定义拷贝 构造函数</h3><hr>
<p>拷贝构造函数定义格式: 类名(const 类名&amp; 变量名)，例如:<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">   Student()&#123;m_strName = <span class="string">"x1aolin"</span>;&#125;</span><br><span class="line">   Student(<span class="keyword">const</span> Student&amp; stu)&#123;&#125;    <span class="comment">//!!!拷贝构造函数</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">   <span class="built_in">string</span> m_strName;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//拷贝构造函数在实例化对象复制初始化或直接初始化时调用</span></span><br></pre></td></tr></table></figure></p>
<h3 id="const重出江湖"><a href="#const重出江湖" class="headerlink" title="const重出江湖"></a>const重出江湖</h3><hr>
<p>先从一个大家比较熟悉的例子说起:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Coordinate</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">   Coordinate(<span class="keyword">int</span> x,<span class="keyword">int</span> y);</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> m_ix;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> m_iy;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>因为成员变量是两个常成员，所以不能用一般的构造函数进行初始化，需要用初始化列表。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Coordinate::Coordinate(<span class="keyword">int</span> x,<span class="keyword">int</span> y):m_ix(x),m_iy(y)</span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>从这里可以看到，一般的对象成员是可以用const来修饰的，其实，对象成员也可以<br>用const来修饰，我们把这类成员称为常对象成员。</p>
<h4 id="1-常对象成员"><a href="#1-常对象成员" class="headerlink" title="1.常对象成员"></a>1.常对象成员</h4><p>如果想要在类中实现对象成员一旦初始化就不允许再修改，那么就可以用const常对象成员,例如:<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Line</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">   Line(<span class="keyword">int</span> x1,<span class="keyword">int</span> y1,<span class="keyword">int</span> x2,<span class="keyword">int</span> y2);</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">   <span class="keyword">const</span> Coordinate m_coorA;</span><br><span class="line">   <span class="keyword">const</span> Coordinate m_coorB;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>初始化用实例化时传参+初始化列表进行操作。</p>
<h4 id="2-常成员函数"><a href="#2-常成员函数" class="headerlink" title="2.常成员函数"></a>2.常成员函数</h4><p>如果大家更加大胆些，就可能会想到一个问题:既然有了常对象成员，那么是否会有常成员函数？答案自然是肯定的，例如:<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Coordinate</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">   Coordinate(<span class="keyword">int</span> x,<span class="keyword">int</span> y);</span><br><span class="line">   <span class="function"><span class="keyword">void</span> <span class="title">changeX</span><span class="params">()</span> <span class="keyword">const</span></span>;    <span class="comment">// &lt;--- 常成员函数 1</span></span><br><span class="line">   <span class="function"><span class="keyword">void</span> <span class="title">changeX</span><span class="params">()</span></span>;    <span class="comment">// 2 1和2互为重载</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">   <span class="keyword">int</span> m_ix;</span><br><span class="line">   <span class="keyword">int</span> m_iy;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p><em>常对象就只能调用常成员函数，而非常对象就都可以调用。但是类似重载的情况就只能实例化一个常对象来进行调用常成员函数了</em>。</p>
</blockquote>
<p>在重载情况下调用常对象成员示例:<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">const</span> Coordinate <span class="title">coor</span><span class="params">(<span class="number">1</span>,<span class="number">2</span>)</span></span>;<span class="comment">// &lt;--- 常对象的定义方法</span></span><br><span class="line">	coor.changeX();    <span class="comment">//此时调用的changeX()函数就是常成员函数了</span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p><em>!!! 常成员函数中不可以修改数据成员的值</em>。</p>
</blockquote>
<p>在上一次的<a href="http://x1aolin6.top/2018/05/17/Cpp-%E5%B0%81%E8%A3%85%E7%AF%87/">博客:this的用法</a>中已经详细介绍了关于this应该如何运用，这里不在赘述。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> Coordinate::changeX() <span class="keyword">const</span></span><br><span class="line">&#123;</span><br><span class="line">    m_ix = <span class="number">10</span>; <span class="comment">//False 这是不被允许的，原因下面有。</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>其实上面的代码可以理解为:<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">changeX</span><span class="params">(<span class="keyword">const</span> Coordinate *<span class="keyword">this</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;m_ix = <span class="number">10</span>; <span class="comment">//上面也提到常指针是不可以改变的，所以不被允许。</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>定义常成员函数的方法</strong>:<br>在.h文件中，在普通成员函数声明后面加上 const ，然后在其对应的.cpp文件定义<br>中的对应定义函数后面加上 const 后面。注意在函数括号后面加一个小空格，防止编译错误。</p>
<blockquote>
<p><em>如果大家对常对象和常成员函数还是很模糊，点击<a href="http://www.jb51.net/article/84409.htm" target="_blank" rel="noopener">传送门</a>,深入理解</em>。</p>
</blockquote>
<h4 id="3-常指针与常引用"><a href="#3-常指针与常引用" class="headerlink" title="3.常指针与常引用"></a>3.常指针与常引用</h4><p>示例的前提条件:<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Coordinate</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">   Coordinate(<span class="keyword">int</span> x,<span class="keyword">int</span> y);</span><br><span class="line">   <span class="function"><span class="keyword">int</span> <span class="title">getX</span><span class="params">()</span></span>;</span><br><span class="line">   <span class="function"><span class="keyword">int</span> <span class="title">getY</span><span class="params">()</span></span>;</span><br><span class="line">   <span class="function"><span class="keyword">void</span> <span class="title">printInfo</span><span class="params">()</span> <span class="keyword">const</span></span>;    <span class="comment">//注意这个是常成员函数</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">   <span class="keyword">int</span> m_iX;</span><br><span class="line">   <span class="keyword">int</span> m_iY;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>下面我们来看看对象的引用和对象的指针如何来定义:<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="function">Coordinate <span class="title">coor1</span><span class="params">(<span class="number">3</span>,<span class="number">5</span>)</span></span>;</span><br><span class="line">   Coordinate &amp;coor2 = coor1;  <span class="comment">//&lt;---对象的引用</span></span><br><span class="line">   Coordinate *pCoor = &amp;coor1; <span class="comment">//&lt;---对象的指针</span></span><br><span class="line">   coor1.printInfo();</span><br><span class="line">   coor2.printInfo();</span><br><span class="line">   pCoor-&gt;printInfo();</span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>仿照上述代码即可实现对象的引用和指针，需要注意的是，使用对象的引用时，可将对象直接赋值给其”别名” ；使用对象的指针时，需要将对象取地址(即加取地址符号&amp;)进行赋值。<br>正如大家所想，如果我们在定义它们的指针和引用时，在其前面加上<code>const</code>就是常对象和常指针了,示例如下:<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    <span class="function">Coordinate <span class="title">coor</span><span class="params">(<span class="number">3</span>,<span class="number">5</span>)</span></span>;</span><br><span class="line">    <span class="keyword">const</span> Coordinate &amp;coor2 = coor1;  <span class="comment">//&lt;---对象的常引用</span></span><br><span class="line">    <span class="keyword">const</span> Coordinate *pCoor = &amp;coor1; <span class="comment">//&lt;---对象的常指针</span></span><br><span class="line">    coor1.printInfo();</span><br><span class="line">    coor2.printInfo();</span><br><span class="line">    pCoor-&gt;printInfo();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p><em>!!! 常引用和常指针只有读权限，没有写权限，只能调用它的常成员函数</em>。</p>
</blockquote>
<p>下面看一个更加复杂的例子:<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Coordinate <span class="title">coor1</span><span class="params">(<span class="number">3</span>,<span class="number">5</span>)</span></span>;</span><br><span class="line">	<span class="function">Coordinate <span class="title">coor2</span><span class="params">(<span class="number">7</span>,<span class="number">9</span>)</span></span>;</span><br><span class="line">	Coordinate * <span class="keyword">const</span> pCoor = &amp;coor1;</span><br><span class="line">	pCoor-&gt;getY();       <span class="comment">//1  需要读写权限对象调用</span></span><br><span class="line">	pCoor = coor2;       <span class="comment">//2</span></span><br><span class="line">	pCoor-&gt;printInfo();  <span class="comment">//3  仅需要读权限的对象就可以调用</span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>下面我们分析一下上面这几行代码,有哪个是错误的。首先看第三行定义代码，<em>所在的位置是在<code>const</code>后面，所以意味着这个pCoor指针不能再指向其他的对象，<br>但是它的权限时同时具备读和写的。所以<code>1</code>是对的,<code>2</code>是错的,<code>3</code>也是对的。  
</em>const最重要的是可以使读写权限转变成只读权限*。</p>
<p><em>推荐视频</em>:  </p>
<ul>
<li>第一部分视频连接: <a href="https://www.imooc.com/video/7423" target="_blank" rel="noopener">控制变化的const</a></li>
<li>第三部分视频链接: <a href="https://www.imooc.com/video/8143" target="_blank" rel="noopener">常对象成员和常成员函数</a>,<a href="https://www.imooc.com/video/8161" target="_blank" rel="noopener">常指针与常引用</a><blockquote>
<p>tips:可能需要登录才可以看视频。</p>
</blockquote>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://x1aolin6.top/2018/05/19/Cpp之const的用法/" data-id="cjj8dbuzt0005kww5jheqouxv" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C++</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/05/21/Java程序开发步骤/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Java程序开发步骤
        
      </div>
    </a>
  
  
    <a href="/2018/05/18/小白如何在ubuntu上进行C-开发/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">小白如何在ubuntu上进行C++开发</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Cpp/">Cpp</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java入门教程/">Java入门教程</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ubuntu/">ubuntu</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/示例/">示例</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/算法与程序设计/">算法与程序设计</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/">C++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java入门/">Java入门</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java类与对象/">Java类与对象</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java运算符、表达式和语句/">Java运算符、表达式和语句</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hello-World/">hello World</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/markdown/">markdown</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/计算几何算法/">计算几何算法</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/C/" style="font-size: 15px;">C++</a> <a href="/tags/Java入门/" style="font-size: 17.5px;">Java入门</a> <a href="/tags/Java类与对象/" style="font-size: 20px;">Java类与对象</a> <a href="/tags/Java运算符、表达式和语句/" style="font-size: 12.5px;">Java运算符、表达式和语句</a> <a href="/tags/hello-World/" style="font-size: 10px;">hello World</a> <a href="/tags/markdown/" style="font-size: 12.5px;">markdown</a> <a href="/tags/计算几何算法/" style="font-size: 12.5px;">计算几何算法</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/06/14/Java访问权限/">Java访问权限</a>
          </li>
        
          <li>
            <a href="/2018/06/12/Java包和import语句/">Java包和import语句</a>
          </li>
        
          <li>
            <a href="/2018/06/12/Java之this关键字/">Java之this关键字</a>
          </li>
        
          <li>
            <a href="/2018/06/11/Java之static关键字/">Java之static关键字</a>
          </li>
        
          <li>
            <a href="/2018/06/11/Java参数传值/">Java参数传值</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 x1aolin<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>